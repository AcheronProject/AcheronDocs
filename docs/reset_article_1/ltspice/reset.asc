Version 4
SHEET 1 6412 2072
WIRE 928 -1104 912 -1104
WIRE 1024 -1104 1008 -1104
WIRE 928 -912 912 -912
WIRE 1024 -912 1008 -912
WIRE 1264 -912 1248 -912
WIRE 1360 -912 1344 -912
WIRE 928 -704 912 -704
WIRE 1024 -704 1008 -704
WIRE 1264 -704 1248 -704
WIRE 1360 -704 1344 -704
WIRE 3648 -352 3648 -384
WIRE 4528 -320 4528 -352
WIRE -16 -304 -48 -304
WIRE 64 -304 48 -304
WIRE 192 -304 144 -304
WIRE 240 -304 192 -304
WIRE 256 -304 240 -304
WIRE 3104 -304 3104 -336
WIRE 1152 -288 1152 -320
WIRE 192 -272 192 -304
WIRE 240 -272 240 -304
WIRE 3648 -272 3648 -288
WIRE 4528 -240 4528 -256
WIRE 3104 -224 3104 -240
WIRE 1152 -208 1152 -224
WIRE 192 -176 192 -192
WIRE 240 -176 240 -208
WIRE 3648 -176 3648 -192
WIRE 3696 -176 3648 -176
WIRE 4000 -176 3696 -176
WIRE 3648 -144 3648 -176
WIRE 3696 -144 3696 -176
WIRE 4528 -144 4528 -160
WIRE 4576 -144 4528 -144
WIRE 4800 -144 4576 -144
WIRE 4896 -144 4800 -144
WIRE 2992 -128 2992 -144
WIRE 3104 -128 3104 -144
WIRE 3104 -128 3040 -128
WIRE 3152 -128 3104 -128
WIRE 3200 -128 3152 -128
WIRE 1152 -112 1152 -128
WIRE 1200 -112 1152 -112
WIRE 1328 -112 1200 -112
WIRE 1360 -112 1328 -112
WIRE 1632 -112 1632 -128
WIRE 3040 -112 3040 -128
WIRE 4528 -112 4528 -144
WIRE 4576 -112 4576 -144
WIRE 1328 -96 1328 -112
WIRE 3104 -96 3104 -128
WIRE 3152 -96 3152 -128
WIRE -16 -80 -48 -80
WIRE 64 -80 48 -80
WIRE 192 -80 144 -80
WIRE 240 -80 192 -80
WIRE 256 -80 240 -80
WIRE 1152 -80 1152 -112
WIRE 1200 -80 1200 -112
WIRE 4800 -80 4800 -144
WIRE 2368 -64 2368 -96
WIRE 192 -48 192 -80
WIRE 240 -48 240 -80
WIRE 3648 -48 3648 -64
WIRE 3696 -48 3696 -80
WIRE 2944 -32 2928 -32
WIRE 2992 -32 2992 -48
WIRE 2992 -32 2944 -32
WIRE 1632 -16 1632 -32
WIRE 1728 -16 1632 -16
WIRE 1744 -16 1728 -16
WIRE 4128 -16 4128 -32
WIRE 1632 0 1632 -16
WIRE 1728 0 1728 -16
WIRE 3104 0 3104 -16
WIRE 3152 0 3152 -32
WIRE 4528 0 4528 -32
WIRE 4576 0 4576 -48
WIRE 1152 16 1152 0
WIRE 1200 16 1200 -16
WIRE 2368 16 2368 0
WIRE 2992 16 2992 -32
WIRE 3040 16 3040 -32
WIRE 192 48 192 32
WIRE 240 48 240 16
WIRE 4800 48 4800 0
WIRE 2864 80 2848 80
WIRE 3184 80 3168 80
WIRE 4128 80 4128 64
WIRE 4224 80 4128 80
WIRE 4240 80 4224 80
WIRE 1632 96 1632 80
WIRE 1728 96 1728 64
WIRE 4128 96 4128 80
WIRE 4224 96 4224 80
WIRE 2144 112 2144 96
WIRE 2192 112 2192 96
WIRE 2320 112 2192 112
WIRE 2368 112 2368 96
WIRE 2368 112 2320 112
WIRE 2064 128 2064 96
WIRE 2192 128 2192 112
WIRE 4544 128 4464 128
WIRE 4752 128 4544 128
WIRE -16 144 -48 144
WIRE 64 144 48 144
WIRE 192 144 144 144
WIRE 240 144 192 144
WIRE 256 144 240 144
WIRE 2320 144 2320 112
WIRE 2368 144 2368 112
WIRE 4544 144 4544 128
WIRE 1504 160 1472 160
WIRE 2992 160 2992 144
WIRE 3040 160 3040 144
WIRE 4960 160 4960 144
WIRE 192 176 192 144
WIRE 240 176 240 144
WIRE 3920 176 3904 176
WIRE 4048 176 4000 176
WIRE 4080 176 4048 176
WIRE 4048 192 4048 176
WIRE 4224 192 4224 160
WIRE 2064 208 2064 192
WIRE 2064 208 2048 208
WIRE 2144 208 2144 192
WIRE 2144 208 2064 208
WIRE 4800 208 4800 144
WIRE 2144 224 2144 208
WIRE 2192 224 2192 208
WIRE 2320 240 2320 208
WIRE 2368 240 2368 224
WIRE 4544 240 4544 224
WIRE 1632 256 1632 224
WIRE 192 272 192 256
WIRE 240 272 240 240
WIRE 4464 272 4464 128
WIRE 4624 272 4464 272
WIRE 4960 272 4960 240
WIRE 4960 272 4704 272
WIRE 5056 272 4960 272
WIRE 5072 272 5056 272
WIRE 2048 288 2032 288
WIRE 2272 288 2256 288
WIRE 2384 288 2352 288
WIRE 4048 288 4048 272
WIRE 4128 288 4128 192
WIRE 4128 288 4048 288
WIRE 5056 288 5056 272
WIRE 4960 304 4960 272
WIRE 4128 320 4128 288
WIRE 736 336 688 336
WIRE 688 352 688 336
WIRE 800 352 800 336
WIRE 2976 352 2928 352
WIRE 144 368 144 352
WIRE 736 368 736 336
WIRE 752 368 736 368
WIRE 2928 368 2928 352
WIRE 3040 368 3040 352
WIRE 2144 384 2144 352
WIRE 2192 384 2192 352
WIRE 2976 384 2976 352
WIRE 2992 384 2976 384
WIRE 5056 384 5056 352
WIRE 752 416 736 416
WIRE 4960 416 4960 384
WIRE 2992 432 2976 432
WIRE 688 448 688 432
WIRE 736 448 736 416
WIRE 736 448 688 448
WIRE 800 448 800 432
WIRE 144 464 144 448
WIRE 240 464 144 464
WIRE 256 464 240 464
WIRE 1520 464 1472 464
WIRE 2352 464 2304 464
WIRE 2928 464 2928 448
WIRE 2976 464 2976 432
WIRE 2976 464 2928 464
WIRE 3040 464 3040 448
WIRE 4016 464 3968 464
WIRE 144 480 144 464
WIRE 240 480 240 464
WIRE 1472 480 1472 464
WIRE 1584 480 1584 464
WIRE 2304 480 2304 464
WIRE 2416 480 2416 464
WIRE 3968 480 3968 464
WIRE 4080 480 4080 464
WIRE 1520 496 1520 464
WIRE 1536 496 1520 496
WIRE 2352 496 2352 464
WIRE 2368 496 2352 496
WIRE 4016 496 4016 464
WIRE 4032 496 4016 496
WIRE 4720 496 4704 496
WIRE 4848 496 4800 496
WIRE 4912 496 4848 496
WIRE 4496 512 4448 512
WIRE 4848 512 4848 496
WIRE 4448 528 4448 512
WIRE 4560 528 4560 432
WIRE 16 544 -16 544
WIRE 1536 544 1520 544
WIRE 2368 544 2352 544
WIRE 4032 544 4016 544
WIRE 4496 544 4496 512
WIRE 4512 544 4496 544
WIRE 240 576 240 544
WIRE 1472 576 1472 560
WIRE 1520 576 1520 544
WIRE 1520 576 1472 576
WIRE 1584 576 1584 560
WIRE 2304 576 2304 560
WIRE 2352 576 2352 544
WIRE 2352 576 2304 576
WIRE 2416 576 2416 560
WIRE 3968 576 3968 560
WIRE 4016 576 4016 544
WIRE 4016 576 3968 576
WIRE 4080 576 4080 560
WIRE 4512 592 4496 592
WIRE 4848 608 4848 592
WIRE 4960 608 4960 512
WIRE 4960 608 4848 608
WIRE 4448 624 4448 608
WIRE 4496 624 4496 592
WIRE 4496 624 4448 624
WIRE 4560 624 4560 608
WIRE 144 640 144 608
WIRE 4960 656 4960 608
WIRE 4528 928 4528 896
WIRE 4528 1008 4528 992
WIRE 4528 1104 4528 1088
WIRE 4576 1104 4528 1104
WIRE 4800 1104 4576 1104
WIRE 4896 1104 4800 1104
WIRE 4528 1136 4528 1104
WIRE 4576 1136 4576 1104
WIRE 4800 1168 4800 1104
WIRE 4528 1248 4528 1216
WIRE 4576 1248 4576 1200
WIRE 4800 1296 4800 1248
WIRE 4544 1376 4464 1376
WIRE 4752 1376 4544 1376
WIRE 4544 1392 4544 1376
WIRE 4960 1408 4960 1392
WIRE 4800 1456 4800 1392
WIRE 4544 1488 4544 1472
WIRE 4464 1520 4464 1376
WIRE 4624 1520 4464 1520
WIRE 4960 1520 4960 1488
WIRE 4960 1520 4704 1520
WIRE 5056 1520 4960 1520
WIRE 5072 1520 5056 1520
WIRE 5056 1536 5056 1520
WIRE 4960 1552 4960 1520
WIRE 5056 1632 5056 1600
WIRE 4960 1664 4960 1632
WIRE 4720 1744 4704 1744
WIRE 4848 1744 4800 1744
WIRE 4912 1744 4848 1744
WIRE 4496 1760 4448 1760
WIRE 4848 1760 4848 1744
WIRE 4448 1776 4448 1760
WIRE 4560 1776 4560 1680
WIRE 4496 1792 4496 1760
WIRE 4512 1792 4496 1792
WIRE 4512 1840 4496 1840
WIRE 4848 1856 4848 1840
WIRE 4960 1856 4960 1760
WIRE 4960 1856 4848 1856
WIRE 4448 1872 4448 1856
WIRE 4496 1872 4496 1840
WIRE 4496 1872 4448 1872
WIRE 4560 1872 4560 1856
WIRE 4960 1904 4960 1856
FLAG -48 -304 PUSH
IOPIN -48 -304 In
FLAG 192 -176 0
FLAG 240 -176 0
FLAG 256 -304 BOOT0_NOMINAL
IOPIN 256 -304 Out
FLAG -48 -80 PUSH
IOPIN -48 -80 In
FLAG 192 48 0
FLAG 240 48 0
FLAG 256 -80 BOOT0_FAST
IOPIN 256 -80 Out
FLAG -48 144 PUSH
IOPIN -48 144 In
FLAG 192 272 0
FLAG 240 272 0
FLAG 256 144 BOOT0_SLOW
IOPIN 256 144 Out
FLAG 912 -704 0
FLAG 1024 -704 BOOT0_HIGH_THRESHOLD
IOPIN 1024 -704 Out
FLAG 912 -912 0
FLAG 1024 -912 BOOT0_LOW_THRESHOLD
IOPIN 1024 -912 Out
FLAG 240 576 0
FLAG 912 -1104 0
FLAG 1024 -1104 3V3
IOPIN 1024 -1104 Out
FLAG 144 352 3V3
IOPIN 144 352 In
FLAG 256 464 nRST
IOPIN 256 464 Out
FLAG 1152 16 0
FLAG 1200 16 0
FLAG 1360 -112 BOOT0_delayed_discharge
IOPIN 1360 -112 Out
FLAG 1248 -704 0
FLAG 1360 -704 NRST_HIGH_THRESHOLD
IOPIN 1360 -704 Out
FLAG 1248 -912 0
FLAG 1360 -912 NRST_LOW_THRESHOLD
IOPIN 1360 -912 Out
FLAG 3104 -336 PUSH_MUN
IOPIN 3104 -336 In
FLAG 3104 0 0
FLAG 3152 0 0
FLAG 3200 -128 BOOT0_MUN_discharge
IOPIN 3200 -128 Out
FLAG 3040 160 0
FLAG 2992 -144 3V3
IOPIN 2992 -144 In
FLAG 2992 160 0
FLAG 2944 -96 0
FLAG 2928 -32 nRST_MUN
IOPIN 2928 -32 Out
FLAG 3040 352 PUSH_MUN
IOPIN 3040 352 Out
FLAG 3040 464 3V3
IOPIN 3040 464 Out
FLAG -16 544 PUSH
IOPIN -16 544 In
FLAG 144 640 0
FLAG 2848 80 PUSH_MUN
IOPIN 2848 80 In
FLAG 3184 80 PUSH_MUN
IOPIN 3184 80 In
FLAG 800 336 PUSH
IOPIN 800 336 Out
FLAG 800 448 3V3
IOPIN 800 448 Out
FLAG 1728 96 0
FLAG 1632 -128 3V3
IOPIN 1632 -128 In
FLAG 1744 -16 nRST_JFT
IOPIN 1744 -16 Out
FLAG 1632 256 0
FLAG 1584 464 PUSH_JFT
IOPIN 1584 464 Out
FLAG 1584 576 3V3
IOPIN 1584 576 Out
FLAG 1152 -320 PUSH_JFT
IOPIN 1152 -320 Out
FLAG 1472 160 PUSH_JFT
IOPIN 1472 160 In
FLAG 2368 240 0
FLAG 2320 240 0
FLAG 2192 96 BOOT0_delayed_discharge_UFM5N
IOPIN 2192 96 Out
FLAG 2064 96 0
FLAG 2144 96 3V3
IOPIN 2144 96 In
FLAG 2048 208 nRST_UFM5N
IOPIN 2048 208 Out
FLAG 2144 384 0
FLAG 2416 464 PUSH_UFM5N
IOPIN 2416 464 Out
FLAG 2416 576 3V3
IOPIN 2416 576 Out
FLAG 2032 288 PUSH_UFM5N
IOPIN 2032 288 In
FLAG 2192 384 0
FLAG 2384 288 PUSH_UFM5N
IOPIN 2384 288 In
FLAG 2368 -96 PUSH_UFM5N
IOPIN 2368 -96 In
FLAG 3648 -48 0
FLAG 3696 -48 0
FLAG 4224 192 0
FLAG 4128 -32 3V3
IOPIN 4128 -32 In
FLAG 4240 80 nRST_comp
IOPIN 4240 80 Out
FLAG 4128 320 0
FLAG 4080 464 PUSH_COMP
IOPIN 4080 464 Out
FLAG 4080 576 3V3
IOPIN 4080 576 Out
FLAG 3648 -384 PUSH_COMP
IOPIN 3648 -384 Out
FLAG 3904 176 PUSH_COMP
IOPIN 3904 176 In
FLAG 4000 -176 BOOT0_PUSH
IOPIN 4000 -176 Out
FLAG 4528 0 0
FLAG 4576 0 0
FLAG 5056 384 0
FLAG 4960 144 3V3
IOPIN 4960 144 In
FLAG 5072 272 nRST_MOS
IOPIN 5072 272 Out
FLAG 4960 656 0
FLAG 4560 432 PUSH_MOS
IOPIN 4560 432 Out
FLAG 4560 624 3V3
IOPIN 4560 624 Out
FLAG 4528 -352 PUSH_MOS
IOPIN 4528 -352 Out
FLAG 4704 496 PUSH_MOS
IOPIN 4704 496 In
FLAG 4896 -144 BOOT0_MOS
IOPIN 4896 -144 Out
FLAG 4800 208 0
FLAG 4544 240 0
FLAG 4528 1248 0
FLAG 4576 1248 0
FLAG 5056 1632 0
FLAG 4960 1392 3V3
IOPIN 4960 1392 In
FLAG 5072 1520 nRST_MOS_adapted
IOPIN 5072 1520 Out
FLAG 4960 1904 0
FLAG 4560 1680 PUSH_MOS
IOPIN 4560 1680 Out
FLAG 4560 1872 3V3
IOPIN 4560 1872 Out
FLAG 4528 896 PUSH_MOS
IOPIN 4528 896 Out
FLAG 4704 1744 PUSH_MOS
IOPIN 4704 1744 In
FLAG 4896 1104 BOOT0_MOS_adapted
IOPIN 4896 1104 Out
FLAG 4800 1456 0
FLAG 4544 1488 0
SYMBOL diode -16 -288 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 160 -320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL res 208 -176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL cap 224 -272 R0
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL diode -16 -64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 160 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R1*(1-R1TOL)}
SYMBOL res 208 48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value {R2*(1+R2TOL)}
SYMBOL cap 224 -48 R0
SYMATTR InstName C2
SYMATTR Value {C*(1-CTOL)}
SYMBOL diode -16 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 160 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {R1*(1+R1TOL)}
SYMBOL res 208 272 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value {R2*(1-R2TOL)}
SYMBOL cap 224 176 R0
SYMATTR InstName C3
SYMATTR Value {C*(1+CTOL)}
SYMBOL voltage 1024 -704 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {0.2*3.3+0.95}
SYMBOL voltage 1024 -912 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {0.3*3.3-0.3}
SYMBOL cap 224 480 R0
SYMATTR InstName C5
SYMATTR Value 1n
SYMBOL res 128 352 R0
SYMATTR InstName R13
SYMATTR Value 40k
SYMBOL voltage 1024 -1104 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 3.3
SYMBOL res 1168 -112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value {R1}
SYMBOL res 1168 16 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value {R2}
SYMBOL cap 1184 -80 R0
SYMATTR InstName C6
SYMATTR Value {C}
SYMBOL voltage 1360 -704 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {0.445*3.3+0.398}
SYMBOL voltage 1360 -912 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value {0.3*3.3+0.07}
SYMBOL diode 1136 -288 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res 3120 -128 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value {R1}
SYMBOL res 3120 0 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value {R2}
SYMBOL cap 3136 -96 R0
SYMATTR InstName C4
SYMATTR Value {C}
SYMBOL diode 3088 -304 R0
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res 2976 -144 R0
WINDOW 0 -17 19 Left 2
WINDOW 3 -17 31 Left 2
SYMATTR InstName R12
SYMATTR Value 55k
SYMBOL cap 2960 -32 R180
WINDOW 0 36 39 Left 2
WINDOW 3 36 26 Left 2
SYMATTR InstName C8
SYMATTR Value 100n
SYMBOL sw 3040 352 R0
SYMATTR InstName S1
SYMATTR Value IDEAL_SWITCH
SYMBOL sw 800 336 R0
SYMATTR InstName S2
SYMATTR Value IDEAL_SWITCH
SYMBOL voltage 688 448 R180
WINDOW 0 9 104 Left 2
WINDOW 3 9 93 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE(0 1 {hold_delay} 1n 1n {thold})
SYMBOL cap 1712 0 R0
SYMATTR InstName C7
SYMATTR Value 100n
SYMBOL res 1616 -128 R0
SYMATTR InstName R9
SYMATTR Value 40k
SYMBOL sw 1584 464 R0
SYMATTR InstName S3
SYMATTR Value IDEAL_SWITCH
SYMBOL res 2352 112 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value {R1}
SYMBOL res 2352 240 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value {R2}
SYMBOL cap 2336 144 M0
SYMATTR InstName C9
SYMATTR Value {C}
SYMBOL diode 2384 -64 M0
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL cap 2080 192 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C10
SYMATTR Value 1n
SYMBOL res 2160 96 M0
SYMATTR InstName R17
SYMATTR Value 40k
SYMBOL sw 2416 464 R0
SYMATTR InstName S4
SYMATTR Value IDEAL_SWITCH
SYMBOL res 2256 272 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 1k
SYMBOL res 3024 -128 R0
SYMATTR InstName R16
SYMATTR Value {a+1u}
SYMBOL res 2176 112 R0
SYMATTR InstName R20
SYMATTR Value {a+1u}
SYMBOL res 3664 -176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R21
SYMATTR Value {R1}
SYMBOL res 3664 -48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R22
SYMATTR Value {R2}
SYMBOL cap 3680 -144 R0
SYMATTR InstName C11
SYMATTR Value {C}
SYMBOL diode 3632 -352 R0
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL cap 4208 96 R0
SYMATTR InstName C12
SYMATTR Value 1n
SYMBOL res 4112 -32 R0
SYMATTR InstName R24
SYMATTR Value 40k
SYMBOL sw 4080 464 R0
SYMATTR InstName S5
SYMATTR Value IDEAL_SWITCH
SYMBOL res 1616 -16 R0
SYMATTR InstName R28
SYMATTR Value 100
SYMBOL acheron_ltspice\\DTC123JKA 112 544 R0
SYMATTR InstName U3
SYMBOL acheron_ltspice\\DTC123JKA 1600 160 R0
SYMATTR InstName U1
SYMBOL acheron_ltspice\\UMF5N 2112 288 R0
SYMATTR InstName U2
SYMBOL nmos 4080 96 R0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL res 4016 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 1k
SYMBOL res 4064 288 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R30
SYMATTR Value 10k
SYMBOL res 4544 -144 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R25
SYMATTR Value {R1}
SYMBOL res 4544 -16 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R26
SYMATTR Value {R2}
SYMBOL cap 4560 -112 R0
SYMATTR InstName C13
SYMATTR Value {C}
SYMBOL diode 4512 -320 R0
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL cap 5040 288 R0
SYMATTR InstName C14
SYMATTR Value 1n
SYMBOL res 4944 144 R0
SYMATTR InstName R31
SYMATTR Value 40k
SYMBOL nmos 4912 416 R0
SYMATTR InstName M2
SYMATTR Value 2N7002
SYMBOL res 4816 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 1k
SYMBOL res 4864 608 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R33
SYMATTR Value 10k
SYMBOL res 4944 288 R0
SYMATTR InstName R27
SYMATTR Value 100
SYMBOL nmos 4752 48 R0
SYMATTR InstName M3
SYMATTR Value 2N7002
SYMBOL res 4816 16 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R36
SYMATTR Value {a}
SYMBOL res 4608 256 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R34
SYMATTR Value 10k
SYMBOL res 4560 128 M0
SYMATTR InstName R35
SYMATTR Value 100k
SYMBOL voltage 1472 576 R180
WINDOW 0 9 104 Left 2
WINDOW 3 9 93 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 {hold_delay} 1n 1n {thold})
SYMBOL voltage 2304 576 R180
WINDOW 0 9 104 Left 2
WINDOW 3 9 93 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value PULSE(0 1 {hold_delay} 1n 1n {thold})
SYMBOL voltage 2928 464 R180
WINDOW 0 9 104 Left 2
WINDOW 3 9 93 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PULSE(0 1 {hold_delay} 1n 1n {thold})
SYMBOL voltage 3968 576 R180
WINDOW 0 9 104 Left 2
WINDOW 3 9 93 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value PULSE(0 1 {hold_delay} 1n 1n {thold})
SYMBOL sw 4560 512 R0
SYMATTR InstName S6
SYMATTR Value IDEAL_SWITCH
SYMBOL voltage 4448 624 R180
WINDOW 0 9 104 Left 2
WINDOW 3 9 93 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V11
SYMATTR Value PULSE(0 1 {hold_delay} 1n 1n {thold})
SYMBOL res 4544 1104 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R18
SYMATTR Value {R1}
SYMBOL res 4544 1232 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R23
SYMATTR Value {R2}
SYMBOL cap 4560 1136 R0
SYMATTR InstName C15
SYMATTR Value {C}
SYMBOL diode 4512 928 R0
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL cap 5040 1536 R0
SYMATTR InstName C16
SYMATTR Value 100n
SYMBOL res 4944 1392 R0
SYMATTR InstName R37
SYMATTR Value 40k
SYMBOL nmos 4912 1664 R0
SYMATTR InstName M4
SYMATTR Value 2N7002
SYMBOL res 4816 1728 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R38
SYMATTR Value 100
SYMBOL res 4864 1856 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R39
SYMATTR Value 10k
SYMBOL res 4944 1536 R0
SYMATTR InstName R40
SYMATTR Value 100
SYMBOL nmos 4752 1296 R0
SYMATTR InstName M5
SYMATTR Value 2N7002
SYMBOL res 4816 1264 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R41
SYMATTR Value {a}
SYMBOL res 4608 1504 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R42
SYMATTR Value 100
SYMBOL sw 4560 1760 R0
SYMATTR InstName S7
SYMATTR Value IDEAL_SWITCH
SYMBOL voltage 4448 1872 R180
WINDOW 0 9 104 Left 2
WINDOW 3 9 93 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V12
SYMATTR Value PULSE(0 1 {hold_delay} 1n 1n {thold})
TEXT 432 -480 Left 2 !.param R1=330k R1TOL=0.01
TEXT 432 -456 Left 2 !.param R2=1mega R2TOL=0.01
TEXT 432 -432 Left 2 !.param C=10u CTOL=0.05
TEXT 848 -432 Left 2 !.tran 0 50 5m 1m
TEXT 392 176 Left 2 !.meas TRAN fast_high_time WHEN {V(boot0_fast)=V(boot0_high_threshold)}
TEXT 392 200 Left 2 !.meas TRAN fast_low_time WHEN {V(boot0_fast)=V(boot0_low_threshold)}
TEXT 392 -56 Left 2 !.meas TRAN slow_high_time WHEN {V(boot0_slow)=V(boot0_high_threshold)}
TEXT 392 -32 Left 2 !.meas TRAN slow_low_time WHEN {V(boot0_slow)=V(boot0_low_threshold)}
TEXT 392 -264 Left 2 !.meas TRAN nominal_high_time WHEN {V(boot0_nominal)=V(boot0_high_threshold)}
TEXT 392 -240 Left 2 !.meas TRAN nominal_low_time WHEN {V(boot0_nominal)=V(boot0_low_threshold)}
TEXT 320 544 Left 2 !.meas TRAN nrst_high_time WHEN {V(nrst)=V(nrst_high_threshold)} RISE=1
TEXT 320 568 Left 2 !.meas TRAN nrst_low_time WHEN {V(nrst)=V(nrst_low_threshold)} RISE=1
TEXT 5224 -152 Left 2 !.meas TRAN delayed_discharge_value_at_nrst_high FIND V(boot0_delayed_discharge) AT nrst_high_time
TEXT 5224 -136 Left 2 !.meas TRAN delayed_discharge_high_cross_time WHEN {V(boot0_mos)=V(boot0_high_threshold)} FALL=1
TEXT 392 -216 Left 2 !.meas TRAN nominal_low_falltime WHEN {V(boot0_nominal)=V(boot0_low_threshold)} FALL=1
TEXT 392 -192 Left 2 !.meas TRAN nominal_high_falltime WHEN {V(boot0_nominal)=V(boot0_high_threshold)} FALL=1
TEXT 5224 -96 Left 2 ;.step dec param a 1k 100k 10
TEXT 5224 -120 Left 2 !.meas TRAN delayed_discharge_low_cross_time WHEN {V(boot0_mos)=V(boot0_low_threshold)} FALL=1
TEXT 2736 -488 Left 2 ;Circuit with dicharge using MUN5335DW1T1G
TEXT 816 -576 Left 2 ;Fixed voltages and thresholds
TEXT 5224 -80 Left 2 !.param a 10k
TEXT 2752 664 Left 2 !.model IDEAL_SWITCH SW(RON = 1u, ROFF=1GG VT = 0.5, VH = 0.1, LSER = 0, VSER = 0)
TEXT -176 -496 Left 2 ;Circuits without discharge
TEXT 1072 -488 Left 2 ;Circuit with JFET discharge
TEXT 1904 -488 Left 2 ;Circuit with JFET discharge
TEXT 3568 -488 Left 2 ;Circuit with JFET discharge
TEXT 5224 -176 Left 2 !.meas available_NRST_time PARAM delayed_discharge_high_cross_time - delayed_discharge_nrst_risetime
TEXT 5224 -56 Left 2 !.meas TRAN delayed_discharge_nrst_risetime WHEN {V(nrst_mos)=V(nrst_high_threshold)} RISE=1
TEXT 4400 -488 Left 2 ;Circuit with JFET discharge
TEXT 432 -408 Left 2 !.param thold=12.22
TEXT 432 -384 Left 2 !.param hold_delay=2.84
TEXT 4400 760 Left 2 ;Circuit with JFET discharge
LINE Normal 1568 -1216 800 -1216 2
LINE Normal 1568 -560 1568 -1216 2
LINE Normal 800 -560 1568 -560 2
LINE Normal 800 -1216 800 -560 2
LINE Normal 800 -1216 800 -1216 2
LINE Normal 800 -1216 800 -1216 2
LINE Normal -192 -336 -192 -336 2
LINE Normal 1008 -512 -192 -512 2
LINE Normal -192 688 -192 -512 2
LINE Normal 1008 688 1008 -512 2
LINE Normal 1008 688 -192 688 2
LINE Normal 1824 -512 1056 -512 2
LINE Normal 1056 688 1056 -512 2
LINE Normal 1824 688 1824 -512 2
LINE Normal 1824 688 1056 688 2
LINE Normal 2656 -512 1888 -512 2
LINE Normal 1888 688 1888 -512 2
LINE Normal 2656 688 2656 -512 2
LINE Normal 2656 688 1888 688 2
LINE Normal 3488 -512 2720 -512 2
LINE Normal 2720 688 2720 -512 2
LINE Normal 3488 688 3488 -512 2
LINE Normal 3488 688 2720 688 2
LINE Normal 4320 -512 3552 -512 2
LINE Normal 3552 688 3552 -512 2
LINE Normal 4320 688 4320 -512 2
LINE Normal 4320 688 3552 688 2
LINE Normal 5152 -512 4384 -512 2
LINE Normal 4384 688 4384 -512 2
LINE Normal 5152 688 5152 -512 2
LINE Normal 5152 688 4384 688 2
LINE Normal 5152 736 4384 736 2
LINE Normal 4384 1936 4384 736 2
LINE Normal 5152 1936 5152 736 2
LINE Normal 5152 1936 4384 1936 2
